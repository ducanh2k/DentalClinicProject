;/*FB_PKG_DELIM*/

__d("CometFeedStoryMediaLayoutAspectRatioConstraintContainer.react",["FDSAspectRatioContainer.react","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.containerAspectRatio;a=a.rootAspectRatio;if(a<d)throw c("unrecoverableViolation")("The root aspect ratio cannot be less than the container's aspect ratio it's restricting","comet_feed");return a>d?i.jsx(c("FDSAspectRatioContainer.react"),{aspectRatio:a,children:i.jsx("div",{className:"xamitd3 x1n2onr6",style:{width:d/a*100+"%"},children:b})}):b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedStoryMediaLayoutConstants",[],(function(a,b,c,d,e,f){"use strict";a=1/1.5;b=750;c=-325;d=500;f.DEFAULT_MIN_ASPECT_RATIO=a;f.LOWER_BOUND_MIN_HEIGHT=b;f.MAX_HEIGHT_VIEWPORT_ADJUSTMENT=c;f.MIN_WIDTH_MAX=d}),66);
__d("CometFeedStoryMediaLayoutViewportConstraintContainer.react",["CometFeedStoryMediaLayoutConstants","RecoverableViolationWithComponentStack.react","react","useCometErrorProject"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.aspectRatio,e=a.children;a=a.mediaWidth;var f=c("useCometErrorProject")(),g=Number.isNaN(a),h=Number.isNaN(b);return i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{maxWidth:a<d("CometFeedStoryMediaLayoutConstants").MIN_WIDTH_MAX?a+"px":"100%",minWidth:Math.min(d("CometFeedStoryMediaLayoutConstants").LOWER_BOUND_MIN_HEIGHT*b,d("CometFeedStoryMediaLayoutConstants").MIN_WIDTH_MAX)+"px",width:"calc((100vh + "+d("CometFeedStoryMediaLayoutConstants").MAX_HEIGHT_VIEWPORT_ADJUSTMENT+"px) * "+b+")"},children:e}),(g||h)&&i.jsx(c("RecoverableViolationWithComponentStack.react"),{errorMessage:"An invalid mediaWidth or aspectRatio in CometFeedStoryMediaLayoutViewportConstraintContainer",projectName:(a=f)!=null?a:"comet_feed"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedStoryViewportMaxHeightMediaLayout.react",["CometFeedFocusMedia.react","CometFeedStoryMediaLayoutAspectRatioConstraintContainer.react","CometFeedStoryMediaLayoutConstants","CometFeedStoryMediaLayoutViewportConstraintContainer.react","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={geminiBackground:{backgroundColor:"xszat0t",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"x1jx94hy",display:"x78zum5",flexDirection:"xdt5ytf",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function a(a){var b=a.backgroundColor,e=a.children,f=a.mediaHeight,g=a.mediaWidth,i=a.focusX,l=a.focusY,m=a.minContainAspectRatio;m=m===void 0?0:m;a=a.minCropAspectRatio;a=a===void 0?d("CometFeedStoryMediaLayoutConstants").DEFAULT_MIN_ASPECT_RATIO:a;var n=f===0?0:g/f;a=n<a?a:n;var o=a<m?m:a;n=function(){return f>g?f/o:g}();return j.jsx("div",{className:(h||(h=c("stylex")))(k.root,c("gkx")("21050")&&k.geminiBackground),style:{backgroundColor:b},children:j.jsx(c("CometFeedStoryMediaLayoutViewportConstraintContainer.react"),{aspectRatio:o,mediaWidth:n*2,children:j.jsx(c("CometFeedStoryMediaLayoutAspectRatioConstraintContainer.react"),{containerAspectRatio:a,rootAspectRatio:o,children:j.jsx(c("CometFeedFocusMedia.react"),{focusX:i,focusY:l,mediaHeight:f,mediaWidth:g,viewportAspectRatio:a,children:e})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedStoryViewportMaxHeightPhotoAttachmentImplementation.react",["CometFeedStoryViewportMaxHeightMediaLayout.react","CometFeedUnitPostRenderingLoggersContext","CometImage.react","react","usePostRenderingLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useContext,l={imageCover:{objectFit:"xl1xv1r",$$css:!0}};function a(a){var b=a.accentColor,d=a.accessibilityCaption,e=a.focusX,f=a.focusY,g=a.height,h=a.uri,m=a.width;a=k(c("CometFeedUnitPostRenderingLoggersContext"));var n=a.ad_id,o=a.client_token,p=a.post_rendering_logger_from_context;a=j(function(){return{ad_client_token:o,ad_id:n,attached_link:h,event_name:"ad_validate_image",event_sub_type:"image_load_success",viewport_height_px:g.toString(),viewport_width_px:m.toString()}},[o,n,h,g,m]);var q=c("usePostRenderingLogger")(a,p);return i.jsx(c("CometFeedStoryViewportMaxHeightMediaLayout.react"),{backgroundColor:b,focusX:e,focusY:f,mediaHeight:g,mediaWidth:m,children:function(a){return i.jsx(c("CometImage.react"),{alt:d,height:g,onLoad:(p==null?void 0:p.includes("post_rendering_logger"))?q:void 0,src:h,width:m,xstyle:[a,l.imageCover]})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedStoryPhotoAttachmentImplementation",["CometFeedStoryViewportMaxHeightPhotoAttachmentImplementation.react"],(function(a,b,c,d,e,f){"use strict";f["default"]=b("CometFeedStoryViewportMaxHeightPhotoAttachmentImplementation.react")}),66);
__d("CometFeedStoryPhotoAttachmentUtil_ShopPDPURI.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[a];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryPhotoAttachmentUtil_ShopPDPURI",selections:[{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"listing",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"useProductItem_node",selections:[{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:b,storageKey:null}],type:"ProductItem",abstractKey:null}],args:null,argumentDefinitions:[]}],storageKey:null},{alias:null,args:null,concreteType:"ShopProduct",kind:"LinkedField",name:"shop_product",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"useShopProduct_node",selections:b,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null}}();e.exports=a}),null);
__d("ProductNode",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getId=function(){var a;return(a=(a=this.$1)==null?void 0:a.id)!=null?a:(a=this.$2)==null?void 0:a.id};b.getProductId=function(){var a;return(a=(a=this.$1)==null?void 0:a.product_id)!=null?a:(a=this.$2)==null?void 0:a.product_id};b.getMerchantId=function(){var a;return(a=(a=this.$1)==null?void 0:a.merchant_id)!=null?a:(a=this.$2)==null?void 0:a.merchant_id};return a}();f["default"]=a}),66);
__d("useProductItem_node.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"useProductItem_node"};e.exports=a}),null);
__d("useProductItem",["RelayHooks","useProductItem_node.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useProductItem_node.graphql");function a(a){if(a===void 0)return null;a=(a=d("RelayHooks").readInlineData(i,a))!=null?a:{};var b=a==null?void 0:a.id;if(b==null)return null;a=a==null?void 0:(a=a.page)==null?void 0:a.id;return{id:b,merchant_id:a,product_id:b}}g.useProductItem=a}),98);
__d("useShopProduct_node.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"useShopProduct_node"};e.exports=a}),null);
__d("useShopProduct",["RelayHooks","useShopProduct_node.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useShopProduct_node.graphql");function a(a){if(a===void 0)return null;a=(a=d("RelayHooks").readInlineData(i,a))!=null?a:{};a=a==null?void 0:a.id;if(a==null)return null;var b=a.split(":");if((b==null?void 0:b.length)!==3||b[0]!=="SP")return null;b[0];var c=b[1];b=b[2];return{id:a,merchant_id:c,product_id:b}}g.useShopProduct=a}),98);
__d("CometFeedStoryPhotoAttachmentUtil",["Actor","CometFeedStoryPhotoAttachmentUtil_ShopPDPURI.graphql","CometRelay","ProductNode","XCometCommerceProductItemControllerRouteBuilder","useProductItem","useShopProduct"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f){var g;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryPhotoAttachmentUtil_ShopPDPURI.graphql"),(a=a)!=null?a:null);var i=d("Actor").useActor();i=i[0];g=(a==null?void 0:(g=a.photo_product_tags)==null?void 0:g.length)||0;var j=null,k=null;a=a==null?void 0:(a=a.photo_product_tags)==null?void 0:a[0];a=new(c("ProductNode"))(d("useShopProduct").useShopProduct(a==null?void 0:a.shop_product),d("useProductItem").useProductItem(a==null?void 0:a.listing));if(g===1){k=a.getProductId();g=a.getMerchantId();k!=null&&i!==g&&(j=c("XCometCommerceProductItemControllerRouteBuilder").buildURL({listing_id:k,ref:e,referral_code:f}))}return{productID:k,shopPDPURI:j}}g.useGetDirectToPDPInfo=a}),98);
__d("CometFeedStoryPhotoAttachment_attachment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometFeedStoryPhotoAttachment_attachment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:"photo_image",args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"sizing",value:"cover-fill"},{kind:"Literal",name:"width",value:500}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometFeedPhotoBackgroundColorRelay_photo"},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"useCometPhotoViewerPlaceholderPassthroughProps_photo"},{args:null,kind:"FragmentSpread",name:"CometFeedStoryPhotoAttachmentUtil_ShopPDPURI"},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"focus",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Photo",abstractKey:null}],storageKey:null}],type:"StoryAttachment",abstractKey:null};e.exports=a}),null);
__d("useCometFeedPhotoBackgroundColorRelay_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometFeedPhotoBackgroundColorRelay_photo",selections:[{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"color_choice_algorithm",value:"MOST_PROMINENT_COLOR"},{kind:"Literal",name:"is_computed_if_missing",value:!1}],kind:"ScalarField",name:"accent_color",storageKey:'accent_color(color_choice_algorithm:"MOST_PROMINENT_COLOR",is_computed_if_missing:false)'}],type:"Photo",abstractKey:null}],type:"Media",abstractKey:"__isMedia"};e.exports=a}),null);
__d("useCometFeedPhotoBackgroundColorRelay",["CometRelay","useCometFeedPhotoBackgroundColorRelay_photo.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometFeedPhotoBackgroundColorRelay_photo.graphql"),a);return(a==null?void 0:a.accent_color)!=null?"#"+a.accent_color.slice(2):null}g["default"]=a}),98);
__d("useOpenPhotoAttachmentKeyCommand",["CometFeedStoryAttachmentCommandWidget","cometGetKeyCommandConfig","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useMemo,k=b.useRef;function a(a){var b=k(null),e=i(function(){var a=b.current;a!=null&&a.click()},[]),f=j(function(){return!a?[d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","openAttachment",e)]:[]},[e,a]);c("CometFeedStoryAttachmentCommandWidget").useKeyCommands(f);return b}g["default"]=a}),98);
__d("CometFeedStoryPhotoAttachment.react",["Actor","CometErrorBoundary.react","CometFeedStoryFeedLocationContext","CometFeedStoryPhotoAttachmentImplementation","CometFeedStoryPhotoAttachmentUtil","CometFeedStoryPhotoAttachment_attachment.graphql","CometFeedUnitQueryVariablesContext","CometImage.react","CometMarketplaceComponentLoggingContext","CometPlaceholder.react","CometPressable.react","CometProductTagFunnelIDContext","CometProductTagLoggingUtils","CometRelay","CometTrackingCodeContext","CometTrackingNodeProvider.react","CometTrackingNodesContext","CometWarningScreenContext","CommerceAttachmentLoggingUtils","CommerceTabFeedClickFalcoEvent","emptyFunction","getAggregatedStoryTrackingNodeIndex","getIsBizWebFeedLocation","gkx","react","requireDeferred","unrecoverableViolation","useCometFeedPhotoBackgroundColorRelay","useCometPhotoViewerPlaceholderPassthroughProps","useMinifiedProductAttribution","useOpenPhotoAttachmentKeyCommand"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l=c("requireDeferred")("ActnSellerTagProductPillClickFalcoEvent").__setRef("CometFeedStoryPhotoAttachment.react"),m=c("requireDeferred")("CommercePdpProductTagClickFalcoEvent").__setRef("CometFeedStoryPhotoAttachment.react"),n=c("gkx")("20935"),o={border:{borderBottom:"xua58t2",borderTop:"xzg4506",bottom:"x1ey2m1c",end:"xds687c",left:null,right:null,pointerEvents:"x47corl",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0},featuredCard:{height:"x5yr21d",objectFit:"xl1xv1r",width:"xh8yej3",$$css:!0},imageButton:{display:"x1lliihq",":active_transform":"x1pdlv7q",$$css:!0},mediaPressed:{backgroundColor:"xobhos8",$$css:!0}};function a(a){var e,f,g,i,p,q,r=a.adID,s=a.attachment,t=a.featuredCard,u=a.hasProductMatch,v=a.hasProductTags,w=a.heightOverride,x=a.isShopsSYFS,y=a.isUntagged,z=a.preventInteraction,A=a.productTagLayer,B=a.productTagOverlay,C=a.testid;C=a.urlOverride;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryPhotoAttachment_attachment.graphql"),s);var D=k(c("CometMarketplaceComponentLoggingContext")).metadata;s=k(c("CometTrackingCodeContext"));var E=k(c("CometTrackingNodesContext")),F=c("useMinifiedProductAttribution")(),G=k(c("CometFeedUnitQueryVariablesContext")),H=d("CometWarningScreenContext").useIsOverlayShown(),I=d("CometWarningScreenContext").useHasOverlay();E=c("getAggregatedStoryTrackingNodeIndex")(E);e=c("useCometPhotoViewerPlaceholderPassthroughProps")({photo:((e=a.media)==null?void 0:e.__typename)==="Photo"?a.media:null,placeholderImageSrc:(e=a.media)==null?void 0:(e=e.photo_image)==null?void 0:e.uri});f=(f=a.media)==null?void 0:(f=f.photo_image)==null?void 0:f.uri;if(f==null)throw c("unrecoverableViolation")("mediaUri cannot be nullish in CometFeedStoryPhotoAttachment","comet_feed");g=((g=a.media)==null?void 0:g.accessibility_caption)||"";C=C!=null?C:(C=(C=a.media)==null?void 0:C.url)!=null?C:"";w=(w=w)!=null?w:(w=a.media)==null?void 0:(w=w.photo_image)==null?void 0:w.height;i=(i=a.media)==null?void 0:(i=i.photo_image)==null?void 0:i.width;p=(p=a.media)==null?void 0:(p=p.focus)==null?void 0:p.x;q=(q=a.media)==null?void 0:(q=q.focus)==null?void 0:q.y;if(i==null||w==null)throw c("unrecoverableViolation")("width and/or height cannot be nullish in CometFeedStoryPhotoAttachment","comet_feed");var J=d("Actor").useActor(),K=J[0],L=(J=a.media)==null?void 0:J.id,M=k(c("CometProductTagFunnelIDContext"));J=d("CometFeedStoryPhotoAttachmentUtil").useGetDirectToPDPInfo(((J=a.media)==null?void 0:J.__typename)==="Photo"?a.media:null);var N=J.productID,O=function(){if((v===!0||u===!0||y)&&L!=null){var a=u===!0?"unconnected_commerce_product_match_on_newsfeed_"+L:"product_tag_on_newsfeed_"+L;d("CometProductTagLoggingUtils").logProductTagPostClick(r,"CometFeedStoryPhotoAttachment",M,"newsfeed",L,a);N!=null&&m.onReady(function(b){b.log(function(){return{ad_id:r,component:"CometFeedStoryPhotoAttachment",funnel_id:M,marketplace_surface:"newsfeed",post_id:L,product_id:N,referral_code:a}})});y===!0&&l.onReady(function(a){a.log(function(){return{container_post_id:L,creator_id:K,platform:"comet",referral_source:"feed_story",shoppable_content_type:"page_post"}})})}},P=function(){if(x!==!0)return;c("CommerceTabFeedClickFalcoEvent").log(function(){return{analytics_component:"product_item",analytics_feed_type:"newsfeed",analytics_module:"shops_you_follow_stories",analytics_page:"home_feed",referral_surface:"unknown",shopping_session_id:""}})},Q=function(){(D==null?void 0:D.analyticsModule)==="post"&&d("CommerceAttachmentLoggingUtils").logBSGAttachmentProductClick(babelHelpers["extends"]({},D,{navigationChain:F}))};J=function(){O(),P(),Q()};t=t;a=c("useCometFeedPhotoBackgroundColorRelay")(a.media);a=t===!0?j.jsx(c("CometImage.react"),{src:f,xstyle:o.featuredCard}):j.jsxs(j.Fragment,{children:[j.jsx(c("CometFeedStoryPhotoAttachmentImplementation"),{accentColor:a,accessibilityCaption:g,focusX:p,focusY:q,height:w,uri:f,width:i}),A&&j.jsx(c("CometErrorBoundary.react"),{fallback:c("emptyFunction"),children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:A})}),j.jsx("div",{className:"xua58t2 xzg4506 x1ey2m1c xds687c x47corl x10l6tqk x17qophe x13vifvy"}),B]});g=z===!0;p=c("useOpenPhotoAttachmentKeyCommand")(g);q=k(c("CometFeedStoryFeedLocationContext"));w=c("getIsBizWebFeedLocation")(q)&&c("gkx")("23013");return j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:12,children:g||t===!0?a:j.jsx(c("CometPressable.react"),{display:"block",hideHoverOverlay:!0,linkProps:{passthroughProps:babelHelpers["extends"]({index:E,isUntagged:y,origOverlayShown:H,overlayExists:I,productTagFunnelID:M,storyRenderLocation:G==null?void 0:G.renderLocation,trackingCode:s},e),rel:n||w?void 0:"theater",target:w?"_blank":void 0,url:C},onPress:J,overlayPressedStyle:o.mediaPressed,ref:p,testid:void 0,xstyle:o.imageButton,children:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer",selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedStoryAttachmentMatchDebugger_storyAttachmentStyleRendererUnion"},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachment",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometFeedStoryPhotoAttachment_attachment"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"2txcUS"}],concreteType:null,kind:"LinkedField",name:"comet_product_tag_feed_overlay_renderer",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer",fragmentName:"CometProductTagFeedOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductTagFeedOverlayRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer",fragmentName:"ProductMatchFeedOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"ProductMatchFeedOverlayRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer",fragmentName:"CometProductSellerTagFeedOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductSellerTagFeedOverlayRenderer",abstractKey:null}],storageKey:'comet_product_tag_feed_overlay_renderer(supported:"2txcUS")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"1Rt3ld"}],concreteType:null,kind:"LinkedField",name:"comet_product_tag_dot_hint_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer__comet_product_tag_dot_hint_renderer",fragmentName:"CometProductTagDotHintRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductTagDotHintRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer__comet_product_tag_dot_hint_renderer",fragmentName:"ProductMatchDotHintRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"ProductMatchDotHintRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer__comet_product_tag_dot_hint_renderer",fragmentName:"CometProductTagLayerRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductTagLayerRenderer",abstractKey:null}],storageKey:'comet_product_tag_dot_hint_renderer(supported:"1Rt3ld")'},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"target_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedStoryPhotoAttachmentUtil_ShopPDPURI"}],type:"Photo",abstractKey:null}],storageKey:null}],storageKey:null}],type:"StoryAttachmentPhotoStyleRenderer",abstractKey:null}}();e.exports=a}),null);
__d("CometFeedStoryPhotoAttachmentStyle.react",["CometFeedStoryFeedLocationContext","CometFeedStoryPhotoAttachment.react","CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer.graphql","CometFeedStoryPhotoAttachmentUtil","CometProductTagFunnelIDContext","CometProductTagReferralCodeContext","CometRelay","CometSharedPostInGroupContext","react","unrecoverableViolation","useCometFeedStoryAttachmentMatchDebugger","useStable","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext;function a(a){var e,f,g,i,l=a.adID;a=a.styleTypeRenderer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer.graphql"),a);var m=a.attachment;c("useCometFeedStoryAttachmentMatchDebugger")(a);a=k(c("CometFeedStoryFeedLocationContext"));var n=k(c("CometSharedPostInGroupContext"));n=n.isSharedPostInGroup;if(m==null)throw c("unrecoverableViolation")("attachment cannot be nullish in CometFeedStoryPhotoAttachmentStyle","comet_feed");e=((e=m.media)==null?void 0:(e=e.creation_story)==null?void 0:(e=e.target_group)==null?void 0:e.id)!=null;a=(a==null?void 0:a.includes("GROUP"))===!0;var o=a?"group_mall":"newsfeed";f=j.jsx(d("CometRelay").MatchContainer,{match:(f=m.media)==null?void 0:f.comet_product_tag_feed_overlay_renderer,props:{areControlsVisible:!1,isSinglePhoto:!0}});g=j.jsx(d("CometRelay").MatchContainer,{match:(g=m.media)==null?void 0:g.comet_product_tag_dot_hint_renderer});var p=c("useStable")(function(){return c("uuidv4")()});i=d("CometFeedStoryPhotoAttachmentUtil").useGetDirectToPDPInfo(((i=m.media)==null?void 0:i.__typename)==="Photo"?m.media:null,o,e||a||n?"group_product_tagged_post":"product_tagged_post");e=i.shopPDPURI;i=((a=m.media)==null?void 0:(n=a.comet_product_tag_feed_overlay_renderer)==null?void 0:n.__typename)==="ProductMatchFeedOverlayRenderer";a=((a=m.media)==null?void 0:(n=a.comet_product_tag_feed_overlay_renderer)==null?void 0:n.__typename)==="CometProductTagFeedOverlayRenderer";n=((n=m.media)==null?void 0:(n=n.comet_product_tag_feed_overlay_renderer)==null?void 0:n.__typename)==="CometProductSellerTagFeedOverlayRenderer";return j.jsx(c("CometProductTagFunnelIDContext").Provider,{value:p,children:j.jsx(c("CometProductTagReferralCodeContext").Provider,{value:o,children:j.jsx(c("CometFeedStoryPhotoAttachment.react"),{adID:l,attachment:m,hasProductMatch:i,hasProductTags:a,isUntagged:n,productTagLayer:g,productTagOverlay:f,testid:void 0,urlOverride:e})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b={kind:"Variable",name:"scale",variableName:"scale"},c={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f=[e];return{kind:"SplitOperation",metadata:{},name:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer$normalization",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachment",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[a,{alias:"photo_image",args:[b,{kind:"Literal",name:"sizing",value:"cover-fill"},{kind:"Literal",name:"width",value:500}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},c,d],storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isMedia"},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"color_choice_algorithm",value:"MOST_PROMINENT_COLOR"},{kind:"Literal",name:"is_computed_if_missing",value:!1}],kind:"ScalarField",name:"accent_color",storageKey:'accent_color(color_choice_algorithm:"MOST_PROMINENT_COLOR",is_computed_if_missing:false)'},{alias:"viewer_image",args:[{kind:"Literal",name:"context",value:"comet_media_viewer"},{kind:"Literal",name:"height",value:1e6},b,{kind:"Literal",name:"width",value:1e6}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[c,d],storageKey:null},{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"listing",plural:!1,selections:[a,e,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:f,storageKey:null}],type:"ProductItem",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShopProduct",kind:"LinkedField",name:"shop_product",plural:!1,selections:f,storageKey:null},e],storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"focus",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},e,{alias:null,args:[{kind:"Literal",name:"supported",value:"2txcUS"}],concreteType:null,kind:"LinkedField",name:"comet_product_tag_feed_overlay_renderer",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer",fragmentName:"CometProductTagFeedOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductTagFeedOverlayRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer",fragmentName:"ProductMatchFeedOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"ProductMatchFeedOverlayRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer",fragmentName:"CometProductSellerTagFeedOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductSellerTagFeedOverlayRenderer",abstractKey:null}],storageKey:'comet_product_tag_feed_overlay_renderer(supported:"2txcUS")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"1Rt3ld"}],concreteType:null,kind:"LinkedField",name:"comet_product_tag_dot_hint_renderer",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer__comet_product_tag_dot_hint_renderer",fragmentName:"CometProductTagDotHintRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductTagDotHintRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer__comet_product_tag_dot_hint_renderer",fragmentName:"ProductMatchDotHintRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"ProductMatchDotHintRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer__comet_product_tag_dot_hint_renderer",fragmentName:"CometProductTagLayerRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometProductTagLayerRenderer",abstractKey:null}],storageKey:'comet_product_tag_dot_hint_renderer(supported:"1Rt3ld")'},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"target_group",plural:!1,selections:f,storageKey:null},e],storageKey:null}],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:f,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:f,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:f,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:f,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:f,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_prod_eligible",storageKey:null}],type:"StoryAttachmentStyleRendererUnion",abstractKey:"__isStoryAttachmentStyleRendererUnion"}]}}();e.exports=a}),null);